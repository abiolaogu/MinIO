# MinIO Enterprise Backup Configuration
# Copy this file to backup.env and configure your settings
# Usage: source backup.env && ./backup.sh

# ============================================================
# Backup Configuration
# ============================================================

# Backup type (full | incremental)
BACKUP_TYPE=full

# Storage backend (local | s3)
STORAGE_BACKEND=local

# Enable encryption (true | false)
ENABLE_ENCRYPTION=false

# Encryption key (REQUIRED if ENABLE_ENCRYPTION=true)
# Use a strong, randomly generated key (32+ characters)
# Example: openssl rand -base64 32
ENCRYPTION_KEY=""

# Verify backup after creation (true | false)
VERIFY_BACKUP=true

# Retention policy in days (default: 30)
RETENTION_DAYS=30

# Backup root directory (default: ./backups)
BACKUP_ROOT=""

# ============================================================
# S3 Configuration (Required if STORAGE_BACKEND=s3)
# ============================================================

# S3 endpoint URL
# Amazon S3: https://s3.amazonaws.com
# MinIO: https://minio.example.com
# DigitalOcean Spaces: https://nyc3.digitaloceanspaces.com
S3_ENDPOINT=""

# S3 access credentials
S3_ACCESS_KEY=""
S3_SECRET_KEY=""

# S3 bucket name
S3_BUCKET=""

# S3 region (optional, defaults to us-east-1)
AWS_DEFAULT_REGION="us-east-1"

# ============================================================
# Advanced Configuration (Optional)
# ============================================================

# Docker Compose file path (default: auto-detected)
# DOCKER_COMPOSE_FILE="/path/to/docker-compose.production.yml"

# Log directory (default: BACKUP_ROOT)
# LOG_DIR="/var/log/minio-backups"

# ============================================================
# Example Configurations
# ============================================================

# Example 1: Local encrypted backup
# BACKUP_TYPE=full
# STORAGE_BACKEND=local
# ENABLE_ENCRYPTION=true
# ENCRYPTION_KEY="your-32-character-encryption-key"
# VERIFY_BACKUP=true
# RETENTION_DAYS=30

# Example 2: S3 backup with encryption
# BACKUP_TYPE=full
# STORAGE_BACKEND=s3
# ENABLE_ENCRYPTION=true
# ENCRYPTION_KEY="your-32-character-encryption-key"
# S3_ENDPOINT="https://s3.amazonaws.com"
# S3_ACCESS_KEY="AKIAIOSFODNN7EXAMPLE"
# S3_SECRET_KEY="wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY"
# S3_BUCKET="minio-backups"
# VERIFY_BACKUP=true
# RETENTION_DAYS=90

# Example 3: Quick local backup
# BACKUP_TYPE=full
# STORAGE_BACKEND=local
# VERIFY_BACKUP=false
# RETENTION_DAYS=7
