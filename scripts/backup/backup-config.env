# MinIO Enterprise Backup Configuration
# This file contains settings for automated backup operations

# ============================================================
# Backup Destination
# ============================================================

# Local filesystem path or S3-compatible storage URL
# Examples:
#   BACKUP_DESTINATION=/backup/minio
#   BACKUP_DESTINATION=s3://my-backup-bucket/minio-backups
BACKUP_DESTINATION=/backup/minio

# ============================================================
# Backup Schedule (Cron Format)
# ============================================================

# Full backup schedule (daily at 2 AM)
FULL_BACKUP_SCHEDULE="0 2 * * *"

# Incremental backup schedule (every 6 hours)
INCREMENTAL_BACKUP_SCHEDULE="0 */6 * * *"

# ============================================================
# Retention Policy (in days)
# ============================================================

# Number of days to keep full backups
RETENTION_FULL=30

# Number of days to keep incremental backups
RETENTION_INCREMENTAL=7

# ============================================================
# Compression Settings
# ============================================================

# Compression algorithm: gzip, bzip2, xz, none
COMPRESSION=gzip

# Compression level: 1-9 (higher = better compression, slower)
# Recommended: 6 for balance between speed and compression
COMPRESSION_LEVEL=6

# ============================================================
# Encryption Settings
# ============================================================

# Enable backup encryption (true/false)
ENABLE_ENCRYPTION=false

# Path to encryption key file
# Generate with: openssl rand -base64 32 > /etc/minio/backup-encryption.key
ENCRYPTION_KEY_FILE=/etc/minio/backup-encryption.key

# ============================================================
# Notification Settings
# ============================================================

# Email notifications for backup results
ENABLE_EMAIL_NOTIFICATIONS=false
EMAIL_TO=admin@example.com
EMAIL_FROM=backup@minio-enterprise.local
SMTP_SERVER=smtp.example.com
SMTP_PORT=587
SMTP_USER=backup@example.com
SMTP_PASSWORD=

# Slack notifications
ENABLE_SLACK_NOTIFICATIONS=false
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# ============================================================
# Backup Components
# ============================================================

# Enable/disable specific backup components
BACKUP_POSTGRESQL=true
BACKUP_REDIS=true
BACKUP_MINIO_DATA=true
BACKUP_CONFIGURATIONS=true

# ============================================================
# Performance Settings
# ============================================================

# Number of parallel backup operations (1-4)
PARALLEL_JOBS=2

# Bandwidth limit for backups (MB/s, 0 = unlimited)
BANDWIDTH_LIMIT=0

# ============================================================
# Advanced Settings
# ============================================================

# Verify backup integrity after creation
VERIFY_AFTER_BACKUP=true

# Create backup manifest file
CREATE_MANIFEST=true

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Log retention (days)
LOG_RETENTION=90
