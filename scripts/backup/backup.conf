# MinIO Enterprise Backup Configuration
#
# This file contains default configuration for backup operations.
# Environment variables will override these settings.
#
# Usage: Source this file or pass it via --config flag to backup.sh
#

# PostgreSQL Configuration
POSTGRES_HOST="${POSTGRES_HOST:-localhost}"
POSTGRES_PORT="${POSTGRES_PORT:-5432}"
POSTGRES_USER="${POSTGRES_USER:-postgres}"
POSTGRES_PASSWORD="${POSTGRES_PASSWORD:-changeme}"
POSTGRES_DB="${POSTGRES_DB:-minio}"

# Redis Configuration
REDIS_HOST="${REDIS_HOST:-localhost}"
REDIS_PORT="${REDIS_PORT:-6379}"
REDIS_PASSWORD="${REDIS_PASSWORD:-}"
REDIS_CONTAINER_NAME="${REDIS_CONTAINER_NAME:-redis}"

# MinIO Configuration
MINIO_ENDPOINT="${MINIO_ENDPOINT:-http://localhost:9000}"
MINIO_ACCESS_KEY="${MINIO_ACCESS_KEY:-minioadmin}"
MINIO_SECRET_KEY="${MINIO_SECRET_KEY:-minioadmin}"
MINIO_BUCKET="${MINIO_BUCKET:-backups}"

# Backup Settings
BACKUP_OUTPUT_DIR="${BACKUP_OUTPUT_DIR:-./backups}"
RETENTION_DAYS="${RETENTION_DAYS:-30}"

# Encryption Settings (optional)
# Set GPG_KEY_ID to enable encryption
# Generate GPG key: gpg --full-generate-key
# List keys: gpg --list-keys
GPG_KEY_ID="${GPG_KEY_ID:-}"

# Compression Settings
ENABLE_COMPRESSION="${ENABLE_COMPRESSION:-true}"

# Verification Settings
ENABLE_VERIFICATION="${ENABLE_VERIFICATION:-false}"

# Docker Configuration (for containerized deployments)
# Override these if running in Docker/Kubernetes
POSTGRES_CONTAINER_NAME="${POSTGRES_CONTAINER_NAME:-postgres}"
REDIS_CONTAINER_NAME="${REDIS_CONTAINER_NAME:-redis}"
MINIO_CONTAINER_PREFIX="${MINIO_CONTAINER_PREFIX:-minio}"

# Backup Schedule (for cron)
# Examples:
#   Daily at 2 AM:    0 2 * * * /path/to/backup.sh --type full
#   Weekly on Sunday: 0 3 * * 0 /path/to/backup.sh --type full --verify
#   Hourly incremental: 0 * * * * /path/to/backup.sh --type incremental

# Notification Settings (optional)
# Uncomment and configure for email notifications
# EMAIL_RECIPIENT="${EMAIL_RECIPIENT:-admin@example.com}"
# EMAIL_SENDER="${EMAIL_SENDER:-backup@example.com}"
# SMTP_SERVER="${SMTP_SERVER:-smtp.example.com}"
# SMTP_PORT="${SMTP_PORT:-587}"

# S3 Remote Backup (optional)
# Uncomment to enable remote backup to S3-compatible storage
# REMOTE_BACKUP_ENABLED="${REMOTE_BACKUP_ENABLED:-false}"
# REMOTE_S3_ENDPOINT="${REMOTE_S3_ENDPOINT:-s3.amazonaws.com}"
# REMOTE_S3_BUCKET="${REMOTE_S3_BUCKET:-minio-backups}"
# REMOTE_S3_ACCESS_KEY="${REMOTE_S3_ACCESS_KEY:-}"
# REMOTE_S3_SECRET_KEY="${REMOTE_S3_SECRET_KEY:-}"

# Logging
LOG_LEVEL="${LOG_LEVEL:-INFO}"  # DEBUG, INFO, WARNING, ERROR
KEEP_LOGS_DAYS="${KEEP_LOGS_DAYS:-90}"
