# MinIO Enterprise - Backup Configuration
# Version: 1.0.0
#
# This configuration file contains default settings for backup operations.
# All settings can be overridden via environment variables or command-line arguments.
#

# ============================================================
# Backup Settings
# ============================================================

# Backup destination directory
# Default: /var/backups/minio
BACKUP_DESTINATION=/var/backups/minio

# Backup type: full or incremental
# Default: full
BACKUP_TYPE=full

# Enable encryption (true/false)
# Default: false
# Note: Requires ENCRYPTION_KEY to be set
BACKUP_ENCRYPT=false

# Enable compression (true/false)
# Default: true
BACKUP_COMPRESS=true

# Retention period in days
# Default: 30
# Backups older than this will be automatically deleted
BACKUP_RETENTION_DAYS=30

# ============================================================
# Database Settings
# ============================================================

# PostgreSQL connection settings
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_DB=minio
# POSTGRES_PASSWORD should be set via environment variable for security

# Redis connection settings
REDIS_HOST=localhost
REDIS_PORT=6379
# REDIS_PASSWORD should be set via environment variable if authentication is enabled

# ============================================================
# MinIO Settings
# ============================================================

# MinIO data directory
# Default: /data
MINIO_DATA_PATH=/data

# ============================================================
# Security Settings
# ============================================================

# Encryption key for backup encryption
# IMPORTANT: Set this via environment variable, not in this file!
# Example: export ENCRYPTION_KEY="your-strong-encryption-key"
# ENCRYPTION_KEY=

# ============================================================
# Scheduling Configuration
# ============================================================

# Example cron schedules (for reference only, configure in crontab):
#
# Daily full backup at 2 AM:
# 0 2 * * * /path/to/backup.sh --type full --compress --retention 30
#
# Hourly incremental backup:
# 0 * * * * /path/to/backup.sh --type incremental --compress --retention 7
#
# Weekly full backup on Sunday at 3 AM with encryption:
# 0 3 * * 0 ENCRYPTION_KEY="${BACKUP_ENCRYPTION_KEY}" /path/to/backup.sh --type full --encrypt --compress --retention 90

# ============================================================
# Notification Settings (Future Enhancement)
# ============================================================

# Webhook URL for backup status notifications
# WEBHOOK_URL=

# Email settings for backup reports
# EMAIL_ENABLED=false
# EMAIL_TO=admin@example.com
# EMAIL_SUBJECT_PREFIX="[MinIO Backup]"

# Slack webhook for notifications
# SLACK_WEBHOOK_URL=

# ============================================================
# Advanced Settings
# ============================================================

# Backup verification (true/false)
# When enabled, performs integrity checks after backup
BACKUP_VERIFY=true

# Parallel backup (true/false)
# When enabled, backs up components in parallel (experimental)
BACKUP_PARALLEL=false

# Bandwidth limit for backup operations (in MB/s)
# 0 = unlimited
BACKUP_BANDWIDTH_LIMIT=0

# Backup to remote storage (future enhancement)
# REMOTE_BACKUP_ENABLED=false
# REMOTE_BACKUP_TYPE=s3|azure|gcs
# REMOTE_BACKUP_BUCKET=
# REMOTE_BACKUP_REGION=

# ============================================================
# Logging Settings
# ============================================================

# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Log rotation
LOG_ROTATION_ENABLED=true
LOG_MAX_SIZE=100M
LOG_MAX_AGE=30
